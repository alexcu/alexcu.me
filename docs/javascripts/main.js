function setupSwitchText(e,t){function l(e,t){e.textContent=t}var r=e.textContent,o=t.children;t.onmouseleave=function(){l(e,r)};for(var i=0;i<o.length;i++)o[i].onmouseover=function(t){l(e,t.target.textContent)}}function touchFriendly(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints;t&&(firstTap=function(e){tappedEl=e.target,e.target.onclick=secondTap,(e.preventDefault?e.preventDefault():function(){e.returnValue=!1})()},secondTap=function(e){var t=tappedEl==e.target,l=!1;for(i in els=tappedEl.querySelectorAll("*"))if(els[i]==e.target){l=!0;break}t||l?(e.target.onclick=firstTap,e.returnValue=!0):(tappedEl.onclick=tappedEl.onclick=firstTap,(e.preventDefault?e.preventDefault():function(){e.returnValue=!1})())},e.onclick=firstTap)}function setupModal(e){var t=document.querySelector('a[href="#'+e.id+'"]');if(null!=t){t.onclick=function(){document.querySelector("body").classList.add("modal"),e.querySelector("ul").scrollTop=0};var l=e.querySelector("button.close");l.onclick=function(){document.querySelector("body").classList.remove("modal"),window.location.hash="modal-"+e.id+"-src"}}}function setupGallery(e){var t=e.querySelector("ul");t.onscroll=function(){var l=t.scrollTop/(t.scrollHeight-t.clientHeight+1),r=e.querySelector("progress");r.value=l,l>0?e.querySelector("header").classList.add("expanded"):e.querySelector("header").classList.remove("expanded")};for(var l=t.querySelectorAll("img"),r=0;r<l.length;r++)l[r].width<l[r].height&&l[r].classList.add("portrait")}setupSwitchText(document.querySelector("body > header > h2"),document.querySelector("body > header > ul")),setupSwitchText(document.querySelector("section#technologies > header  > h2"),document.querySelector("section#technologies > article > ul"));for(var tappedEl,anchorEls=document.querySelectorAll('a[href^="http"]'),i=0;i<anchorEls.length;i++);for(var modalEls=document.querySelectorAll("dialog.modal"),i=0;i<modalEls.length;i++)setupModal(modalEls[i]);for(var validationEls=document.querySelectorAll("input[required], textarea[required]"),i=0;i<validationEls.length;i++)validationEls[i].onchange=function(e){e.target.dataset.dirty=""};var form=document.querySelector("form");form.onsubmit=function(){for(var e=form.querySelectorAll("input,textarea"),t=0;t<e.length;t++)if(e[t].dataset.dirty="",!e[t].validity.valid)return e[t].focus(),!1;var l=form.querySelector("progress"),r=form.querySelector('input[type="submit"]');l.style.visibility="visible",r.style.visibility="hidden",r.enabled=!1;var o=new XMLHttpRequest,i=new FormData(form);return o.open("POST","https://cryptic-stream-5488.herokuapp.com/ ",!0),o.onreadystatechange=function(){if(4==o.readyState){var t=200==o.status,i=t?".success":".failure",a=form.querySelector(".response"+i);if(a.style.opacity=1,a.style.zindex=0,t){form.reset(),l.style.visibility="hidden",r.style.visibility="visible",r.enabled=!0;for(var n=0;n<e.length;n++)delete e[n].dataset.dirty;setTimeout(function(){a.style.opacity=0,a.style.zindex=-1},3e3)}}},o.send(i),!1};for(var galleryModalEls=document.querySelectorAll("dialog.modal.gallery"),i=0;i<galleryModalEls.length;i++)setupGallery(galleryModalEls[i]);window.location.hash.indexOf("modal")>0&&(window.location.hash="",document.querySelector("body").classList.remove("modal"));for(var externalHyperlinkEls=document.querySelectorAll('a[href^="http"]'),i=0;i<externalHyperlinkEls.length;i++)externalHyperlinkEls[i].target="_blank";